{"version":3,"file":"static/webpack/static/development/pages/login.js.e3fe7d11244f5a87243f.hot-update.js","sources":["webpack:///./graphql/queries/me.js","webpack:///./lib/checkLoggedIn.js","webpack:///./lib/redirect.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/define-properties.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/object/freeze.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/taggedTemplateLiteral.js","webpack:///./node_modules/core-js/library/fn/object/define-properties.js","webpack:///./node_modules/core-js/library/fn/object/freeze.js","webpack:///./node_modules/core-js/library/modules/es6.object.define-properties.js","webpack:///./node_modules/core-js/library/modules/es6.object.freeze.js","webpack:///./pages/login.js"],"sourcesContent":["import gql from \"graphql-tag\";\n\nconst meQuery = gql`\n  query MeQuery {\n    me {\n      name\n      telephone\n    }\n  }\n`;\n\nexport default meQuery;\n","import meQuery from \"../graphql/queries/me\";\n\nexport default apolloClient =>\n  apolloClient\n    .query({ query: meQuery })\n    .then(({ data }) => ({ loggedInUser: data }))\n    .catch(() =>\n      // Fail gracefully\n      ({ loggedInUser: {} })\n    );\n","import Router from \"next/router\";\n\nexport default (context, target) => {\n  if (context.res) {\n    // server\n    // 303: \"See other\"\n    context.res.writeHead(303, { Location: target });\n    context.res.end();\n  } else {\n    // In the browser, we just pretend like this never even happened ;)\n    Router.replace(target);\n  }\n};\n","module.exports = require(\"core-js/library/fn/object/define-properties\");","module.exports = require(\"core-js/library/fn/object/freeze\");","import _Object$defineProperties from \"../../core-js/object/define-properties\";\nimport _Object$freeze from \"../../core-js/object/freeze\";\nexport default function _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return _Object$freeze(_Object$defineProperties(strings, {\n    raw: {\n      value: _Object$freeze(raw)\n    }\n  }));\n}","require('../../modules/es6.object.define-properties');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperties(T, D) {\n  return $Object.defineProperties(T, D);\n};\n","require('../../modules/es6.object.freeze');\nmodule.exports = require('../../modules/_core').Object.freeze;\n","var $export = require('./_export');\n// 19.1.2.3 / 15.2.3.7 Object.defineProperties(O, Properties)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperties: require('./_object-dps') });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","import React, { useState } from \"react\";\n\nimport checkLoggedIn from \"../lib/checkLoggedIn\";\nimport redirect from \"../lib/redirect\";\n\nconst login = () => {\n  const [state, setState] = useState({ email: \"\", password: \"\" });\n\n  function handleChange(e) {\n    setState({ ...state, [e.target.name]: e.target.value });\n  }\n\n  return (\n    <form\n      onSubmit={e => {\n        e.preventDefault();\n      }}\n    >\n      <input name=\"email\" value={state.email} onChange={handleChange} />\n      <input name=\"password\" value={state.password} onChange={handleChange} />\n      <button type=\"submit\">Sign in!</button>\n    </form>\n  );\n};\n\nlogin.getInitialProps = async context => {\n  const { loggedInUser } = await checkLoggedIn(context.apolloClient);\n\n  if (loggedInUser.me) {\n    redirect(context, \"/\");\n  }\n\n  return {};\n};\n\nexport default login;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AASA;;;;;;;;;;;;ACXA;AAAA;AAAA;AAEA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAFA;AAAA;AAJA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;;;;;;;;;;;ACAA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACJA;AACA;;;;;;;;;;;;ACDA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AASA;;;;A","sourceRoot":""}